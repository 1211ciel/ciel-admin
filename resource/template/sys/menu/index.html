<!DOCTYPE html>
<html lang="zh">
<head>
    {{include "/part/meta.html" .}} <title>{{.node.Name}} - {{.Config.server.name}} </title>
</head>
<body>
{{include "/part/top.html" .}}
<div id="wrapper">
    <div class="w">
        <div class="wrapper-left">
            {{include "/part/nav.html" .}}
            <div class="box no-bottom-border">
                {{include "/part/page_base_info.html" .}}
                <form id="searchForm" class="cell flex-center no-bottom-border" action="{{.node.Path}}" method="get">
                    <a class="mt-3" href="{{.node.Path}}/add?{{toUrlParams .Query}}"> <i class="fa fa-plus-square" aria-hidden="true"></i></a>
                    <input id="page" name="page" value="1" hidden> <input name="size" value="{{.Query.size}}" hidden>
                    <label class="input">pid <input type="text" name="menu_pid" value="{{.Session.menu_pid}}" onkeydown="if(event.keyCode===13)this.form.submit()"> </label>
                    <label class="input">名称<input type="text" name="menu_name" value="{{.Session.menu_name}}" onkeydown="if(event.keyCode===13)this.form.submit()"></label>
                    <label class="input">路径<input type="text" name="menu_path" value="{{.Session.menu_path}}" onkeydown="if(event.keyCode===13)this.form.submit()"></label>
                </form>
            </div>
            <div class="box no-bottom-border">
                {{.msg}}
                <table class="table-1">
                    <tr>
                        <th>id</th>
                        <th>pid</th>
                        <th>名称</th>
                        <th>图片</th>
                        <th>路径</th>
                        <th>排序</th>
                        <th>类型</th>
                        <th>状态</th>
                        <th>创建时间</th>
                        <th class="text-center">操作</th>
                    </tr>
                    {{range .list}}
                    <tr>
                        <td>{{.id}}</td>
                        <td>{{.pid}}</td>
                        <td>{{.name}}</td>
                        <td>{{if hasPrefix .icon "http"}} <a href="{{.icon}}" target="_blank"> <img class="s-icon" src="{{.icon}}" alt="not fond"> </a> {{else if ne .icon ""}} <a href="{{$.Config.server.imgPrefix}}{{.icon}}" target="_blank"> <img class="s-icon" src="{{$.Config.server.imgPrefix}}{{.icon}}" alt="not fond"> </a> {{else}} <span v-else class="tag-normal">暂无图片</span>{{end}}</td>
                        <td>{{.path}}</td>
                        <td>{{.sort}}</td>
                        <td>{{if eq .type 1}}<span class="tag-info">菜单</span>{{else}} <span class="tag-warning">分组</span>{{end}}</td>
                        <td>{{if eq .status 1}}<span class="tag-info">正常</span>{{else}}<span class="tag-danger">关闭</span>{{end}}</td>
                        <td>{{.created_at}}</td>
                        <td align="center">
                            <a class="tag-info" href="#" onclick=" location.href='{{$.node.Path}}/edit/{{.id}}?{{toUrlParams $.Query}}'"><i class="fa fa-wrench" aria-hidden="true"></i></a>
                            <a class="tag-danger" href="#" onclick="if(confirm('确认删除?')){location.href='{{$.node.Path}}/del/{{.id}}?{{toUrlParams $.Query}}'}"><i class="fa fa-trash"></i></a>
                        </td>
                    </tr>
                    {{end}}
                </table>
                {{include "/part/pagination.html" .}}
            </div>
        </div>
    </div>
</div>
{{include "/part/footer.html" .}}
{{include "/part/endJs.html" .}}
</body>
</html>